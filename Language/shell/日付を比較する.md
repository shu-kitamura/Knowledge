# 日付を比較・計算する

{{toc}}

## 概要

シェルスクリプトで時間を比較する方法を記載する

日付はそのままでは比較に使用できない  
```
例：2022/07/05と2022/08/01を比較  
　　人の目には明らかに後者のほうが最近であることがわかる  
　　しかし、コンピュータで比較すると意外とできない  
　　同じ月同士なら日付の数値を見ればいいが、年・月が変わってくると複雑になる
```

## 比較・計算

Unixtimeを使用することで日付を比較する。  
(Unixtimeとは「1970年01月01日」からの経過秒数)  

「date」コマンドで以下のようにして、指定した日付をUnixtimeで取得することができる  
```
date -d <日付> +%s
```

上の例をUnixtimeに直すと以下のようになる
```
shusei@LAPTOP-HLI560E3:~/shell$ date -d 2022/07/05 +%s
1656946800
shusei@LAPTOP-HLI560E3:~/shell$ date -d 2022/08/01 +%s
1659279600

# 数値として比較できる
1656946800 < 1659279600
```

Unixtime同士を引き算して、86400で割ることで日数の差を求められる。
```
1656946800 - 1659279600 = 2332800
2332800 / 86400 = 27
```

割る数によって秒とかもいけるのでは？(試していない)

## 参考

https://ja.wikipedia.org/wiki/UNIX%E6%99%82%E9%96%93