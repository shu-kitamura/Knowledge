# 2つのコマンドの出力を同一のファイルにリダイレクト  

{{toc}}

## 概要

正常終了/エラー終了するコマンドを実行し、両方の結果を同じファイルに出力させること  
コマンドの例としては以下
```
ls -l     #正常終了
ls -l aaa #エラー終了
```


## 実現方法

1行で2つのコマンドを実行し、その標準出力と標準エラーをリダイレクトする

### 1行で2つのコマンドを実行する方法

2通りの方法が見つかった。

  *  最初のコマンドが成功しないと2個目のコマンドを実行しない
```
ls -l && ls -l aaa
```
  *  最初のコマンドの結果に関わらず2個目のコマンドを実行する
```
ls -l || ls -l aaa
```

### 標準出力と標準エラーをリダイレクトする

以下の方法でできた
```
ls -l &> ファイル名
```

### 最終的なコマンド

以下のやり方で正しく動作した。  
```
ls -l &> ファイル名 && ls -l aaa &>> ファイル名
```


## 参考

https://qiita.com/_ydah/items/528aefd1a1cab51285c3